{% extends 'base.html' %} {% block title %}Home{% endblock %}{% block content %}

<div class="container flex-column pt-3">
  <section class="text-center">
    <h1 class="main-title mx-auto">C'est la V</h1>
    <p class="pt-4">
      Do you want to eat more veggies? Thinking of switching to a plant-based
      diet and need a bit of encouragement? Look no further!
    </p>
    C'est la V let vegan food lovers create, store and share their favourite
    recipes. Search our database to get inspired with something yummy or sign up
    and create your own recipes!
    <p class="pt-4"></p>
  </section>
  <section>
    <div class="recipe-wrapper">
      {% for recipe in recipes %}
      <a href="{% url 'recipe_detail' recipe.id %}" class="image-container">
        <img
          src="{{recipe.image.url}}"
          alt="{{recipe.image_alt}}"
          style="width: 100%"
        />
        <div class="label">
          <h3>{{recipe.title}}</h3>
        </div>
      </a>
      {% endfor %}
    </div>
  </section>
  <section>
    <div class="countdown">
      <h3 id="veg">Veganuary 2024 is coming soon!</h3>
      <div class="launch-time">
        <div>
          <p id="days">00</p>
          <span>Days</span>
        </div>
        <div>
          <p id="hours">00</p>
          <span>Hours</span>
        </div>
        <div>
          <p id="minutes">00</p>
          <span>Minutes</span>
        </div>
        <div>
          <p id="seconds">00</p>
          <span>Seconds</span>
        </div>
      </div>
    </div>
  </section>
</div>
<script>
  var countDownDate = new Date("Jan 01, 2024 00:00:00").getTime();
  var x = setInterval(function () {
    var now = new Date().getTime();
    var distance = countDownDate - now;

    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours = Math.floor(
      (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
    );
    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("days").innerHTML = days;
    document.getElementById("hours").innerHTML = hours;
    document.getElementById("minutes").innerHTML = minutes;
    document.getElementById("seconds").innerHTML = seconds;

    if (distance < 0) {
      clearInterval(x);
      document.getElementById("days").innerHTML = "00";
      document.getElementById("hours").innerHTML = "00";
      document.getElementById("minutes").innerHTML = "00";
      document.getElementById("seconds").innerHTML = "00";
      document.getElementById("veg").innerHTML = "Veganuary 2024 is here!";
    }
  }, 1000);
</script>
{% endblock %}
